@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
  font-family: "Inter";
  src: url("/assets/fonts/Inter-Regular.ttf") format("truetype");
  font-weight: 400;
  font-display: swap;
  font-style: normal;
}

@font-face {
  font-family: "Inter";
  src: url("/assets/fonts/Inter-Medium.ttf") format("truetype");
  font-weight: 500;
  font-display: swap;
  font-style: normal;
}

@font-face {
  font-family: "Inter";
  src: url("/assets/fonts/Inter-SemiBold.ttf") format("truetype");
  font-weight: 600;
  font-display: swap;
  font-style: normal;
}

@font-face {
  font-family: "Inter";
  src: url("/assets/fonts/Inter-Bold.ttf") format("truetype");
  font-weight: 700;
  font-display: swap;
  font-style: normal;
}

@font-face {
  font-family: "Source Sans 3";
  src: url("/assets/fonts/SourceSans3-Regular.ttf") format("truetype");
  font-weight: 400;
  font-display: swap;
  font-style: normal;
}

@font-face {
  font-family: "Source Sans 3";
  src: url("/assets/fonts/SourceSans3-SemiBold.ttf") format("truetype");
  font-weight: 600;
  font-display: swap;
  font-style: normal;
}

@font-face {
  font-family: "Source Sans 3";
  src: url("/assets/fonts/SourceSans3-Bold.ttf") format("truetype");
  font-weight: 700;
  font-display: swap;
  font-style: normal;
}

:root {
  color-scheme: light;
}

@layer base {
  html {
    font-family: theme("fontFamily.sans");
    background-color: theme("colors.surface.base");
    color: theme("colors.brand.slate");
  }

  body {
    min-height: 100vh;
  }

  h1, h2, h3, h4 {
    font-family: theme("fontFamily.heading");
    font-weight: 600;
    color: theme("colors.brand.navy");
    letter-spacing: -0.01em;
  }

  a {
    transition: color 200ms cubic-bezier(0.4, 0, 0.2, 1),
                background-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
                box-shadow 200ms cubic-bezier(0.4, 0, 0.2, 1),
                transform 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  input::placeholder,
  textarea::placeholder {
    color: theme("colors.brand.cloud");
    opacity: 1;
  }

  ::selection {
    background-color: rgba(46, 106, 247, 0.25);
  }
}

@layer components {
  /* Typography Scale */
  .text-display {
    @apply text-5xl sm:text-6xl font-semibold tracking-tight leading-none text-brand-navy;
  }

  .text-heading-1 {
    @apply text-4xl sm:text-5xl font-semibold tracking-tight leading-tight text-brand-navy;
  }

  .text-heading-2 {
    @apply text-2xl sm:text-3xl font-semibold leading-tight text-brand-navy;
  }

  .text-heading-3 {
    @apply text-xl sm:text-2xl font-semibold leading-snug text-brand-navy;
  }

  .text-subheading {
    @apply text-sm uppercase tracking-[0.3em] font-semibold text-brand-cloud;
  }

  .text-overline {
    @apply text-xs uppercase tracking-[0.32em] font-bold text-brand-cloud;
  }

  .text-lead {
    @apply text-lg sm:text-xl leading-relaxed text-brand-stone;
  }

  .text-body {
    @apply text-base leading-relaxed text-brand-stone;
  }

  .text-body-sm {
    @apply text-sm leading-relaxed text-brand-stone;
  }

  .text-caption {
    @apply text-xs leading-normal text-brand-cloud;
  }

  /* Filter Components */
  .filter-pill,
  .filter-chip {
    @apply inline-flex items-center rounded-full border border-brand-sky/20 bg-white px-4 py-2 text-xs font-semibold text-brand-stone;
    @apply transition-all duration-200 ease-out;
    @apply hover:border-brand-sky/40 hover:bg-brand-sky/5 hover:text-brand-navy hover:shadow-sm;
    @apply focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-brand-sky/30 focus-visible:ring-offset-2;
    @apply active:scale-95;
    /* Mobile-optimized touch targets (min 44x44px) */
    min-height: 44px;
    min-width: 44px;
  }

  .filter-pill[aria-pressed="true"],
  .filter-pill.is-active,
  .filter-chip[aria-pressed="true"],
  .filter-chip.is-active {
    @apply border-brand-sky bg-brand-sky/20 text-brand-navy font-bold shadow-subtle;
    @apply hover:bg-brand-sky/25 hover:border-brand-indigo;
  }

  .filter-chip {
    @apply px-3 py-2 text-xs font-medium;
    min-height: 40px;
  }

  .filter-pill {
    @apply text-sm py-2.5;
  }

  /* Mobile-specific touch target improvements */
  @media (max-width: 767px) {
    .filter-pill,
    .filter-chip {
      @apply px-5 py-2.5 text-sm;
      min-height: 48px;
    }
  }

  /* Vertical Rhythm & Spacing System */
  /* Section spacing utilities for consistent vertical rhythm */
  .section-spacing {
    @apply py-12 sm:py-16 lg:py-20;
  }

  .section-spacing-tight {
    @apply py-8 sm:py-10 lg:py-12;
  }

  .section-spacing-loose {
    @apply py-16 sm:py-20 lg:py-24;
  }

  /* Content spacing utilities */
  .content-gap {
    @apply space-y-6 sm:space-y-8;
  }

  .content-gap-tight {
    @apply space-y-4 sm:space-y-5;
  }

  .content-gap-loose {
    @apply space-y-8 sm:space-y-10 lg:space-y-12;
  }

  /* Card grid spacing */
  .card-grid {
    @apply grid gap-6 sm:gap-8 md:grid-cols-2 lg:grid-cols-3;
  }

  .card-grid-dense {
    @apply grid gap-4 sm:gap-5 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4;
  }

  .card-grid-loose {
    @apply grid gap-8 sm:gap-10 md:grid-cols-2 lg:grid-cols-3;
  }

  /* Flow utilities for consistent text spacing */
  .prose-flow > * + * {
    @apply mt-4;
  }

  .prose-flow > h2 + *,
  .prose-flow > h3 + * {
    @apply mt-3;
  }

  .prose-flow > * + h2,
  .prose-flow > * + h3 {
    @apply mt-8;
  }

  /* Consistent Focus State System */
  /* Primary focus state for interactive elements */
  .focus-primary {
    @apply focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-brand-sky/30 focus-visible:ring-offset-2;
  }

  /* Secondary focus state for subtle interactions */
  .focus-secondary {
    @apply focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-brand-indigo/20 focus-visible:ring-offset-1;
  }

  /* Danger focus state for destructive actions */
  .focus-danger {
    @apply focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-brand-red/30 focus-visible:ring-offset-2;
  }

  /* High contrast focus for accessibility */
  .focus-accessible {
    @apply focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-brand-indigo/50 focus-visible:ring-offset-2;
  }

  /* Focus state for cards and containers */
  .focus-card {
    @apply focus-within:ring-4 focus-within:ring-brand-sky/20 focus-within:ring-offset-2 focus-within:outline-none;
  }
}
