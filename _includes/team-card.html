<article class="group relative overflow-hidden rounded-2xl border border-brand-sky/10 bg-white shadow-card transition-all duration-300 hover:-translate-y-0.5 hover:shadow-xl hover:border-brand-sky/30 focus-within:-translate-y-0.5 focus-within:shadow-xl focus-within:border-brand-sky/30" data-team
  data-team-slug="{{ include.team.slug | default: include.team.title | slugify }}"
  data-team-department="{{ include.team.department | slugify }}"
  data-team-track="{{ include.team.track | slugify }}"
  data-team-tags="{% for tag in include.team.tags %}{{ tag | slugify }}{% unless forloop.last %},{% endunless %}{% endfor %}">
  <a class="flex h-full flex-col focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-brand-sky/40 focus-visible:ring-offset-2" href="{{ include.team.url | relative_url }}">
    {% if include.team.thumbnail %}
      <div class="relative h-48 overflow-hidden">
        <img class="h-full w-full object-cover transition duration-700 ease-out group-hover:scale-110" src="{{ include.team.thumbnail | relative_url }}" alt="Thumbnail for {{ include.team.title }}" loading="lazy" decoding="async">
        <div class="absolute inset-0 bg-gradient-to-t from-brand-navy/90 via-brand-navy/30 to-transparent"></div>
        <div class="absolute inset-x-0 bottom-0 flex flex-wrap items-center gap-2 px-4 pb-4">
          {% include badge.html label=include.team.department tone='department' size='sm' %}
          {% include badge.html label=include.team.track tone='track' size='sm' %}
        </div>
      </div>
    {% endif %}
    <div class="flex flex-1 flex-col gap-4 p-6">
      <div class="flex items-start justify-between gap-4">
        <div class="flex flex-col gap-2.5">
          <h3 class="text-xl font-semibold leading-tight text-brand-navy transition-colors group-hover:text-brand-indigo">{{ include.team.title }}</h3>
          <p class="text-sm leading-relaxed text-brand-navy line-clamp-3">{{ include.team.summary }}</p>
        </div>
        <span class="shrink-0 inline-flex items-center justify-center rounded-full bg-brand-gold/15 px-3 py-1.5 text-xs font-semibold uppercase tracking-wide text-brand-amber shadow-subtle">{{ include.team.methods | size }}</span>
      </div>
      <div class="flex flex-wrap gap-2 text-xs">
        {% for method in include.team.methods limit:3 %}
          <span class="rounded-full bg-brand-sky/10 px-3 py-1.5 font-medium text-brand-indigo">{{ method }}</span>
        {% endfor %}
        {% assign remaining = include.team.methods | size | minus: 3 %}
        {% if remaining > 0 %}
          <span class="rounded-full bg-brand-sky/10 px-3 py-1.5 font-medium text-brand-indigo">+{{ remaining }}</span>
        {% endif %}
      </div>
      {% if include.team.tags %}
        <div class="mt-auto flex flex-wrap gap-2 text-[11px] font-medium uppercase tracking-wide">
          {% for tag in include.team.tags limit:4 %}
            <span class="rounded-full bg-brand-sea/10 px-2.5 py-1 text-brand-forest">{{ tag }}</span>
          {% endfor %}
          {% assign remaining_tags = include.team.tags | size | minus: 4 %}
          {% if remaining_tags > 0 %}
            <span class="rounded-full bg-brand-sea/10 px-2.5 py-1 text-brand-forest">+{{ remaining_tags }}</span>
          {% endif %}
        </div>
      {% endif %}
    </div>
  </a>
</article>
