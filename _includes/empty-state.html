{% assign variant = include.variant | default: 'no-results' %}
{% assign size = include.size | default: 'md' %}

{% comment %}
Empty state variants:
- no-results: Search/filter returned no matches
- no-content: No content exists yet
- error: Something went wrong
- success: Action completed successfully
- info: Informational message

Size options:
- sm: Compact (py-8)
- md: Default (py-12)
- lg: Spacious (py-16)
{% endcomment %}

{% case variant %}
  {% when 'no-content' %}
    {% assign icon = 'plus' %}
    {% assign border_style = 'border-dashed border-brand-sky/20' %}
    {% assign bg_style = 'bg-white/70' %}
    {% assign icon_bg = 'bg-brand-sky/10 text-brand-indigo' %}
    {% assign default_title = 'No content yet' %}
    {% assign default_body = 'Get started by creating your first item.' %}
  {% when 'error' %}
    {% assign icon = 'warning' %}
    {% assign border_style = 'border-solid border-brand-red/20' %}
    {% assign bg_style = 'bg-brand-red/5' %}
    {% assign icon_bg = 'bg-brand-red/10 text-brand-red' %}
    {% assign default_title = 'Something went wrong' %}
    {% assign default_body = 'We encountered an error. Please try again or contact support if the problem persists.' %}
  {% when 'success' %}
    {% assign icon = 'check' %}
    {% assign border_style = 'border-solid border-brand-sea/20' %}
    {% assign bg_style = 'bg-brand-sea/5' %}
    {% assign icon_bg = 'bg-brand-sea/10 text-brand-forest' %}
    {% assign default_title = 'Success!' %}
    {% assign default_body = 'Your action completed successfully.' %}
  {% when 'info' %}
    {% assign icon = 'info' %}
    {% assign border_style = 'border-solid border-brand-indigo/20' %}
    {% assign bg_style = 'bg-brand-indigo/5' %}
    {% assign icon_bg = 'bg-brand-indigo/10 text-brand-indigo' %}
    {% assign default_title = 'Good to know' %}
    {% assign default_body = 'Here's some information you might find helpful.' %}
  {% else %}
    {% assign icon = 'search' %}
    {% assign border_style = 'border-dashed border-brand-sky/20' %}
    {% assign bg_style = 'bg-white/70' %}
    {% assign icon_bg = 'bg-brand-sky/10 text-brand-indigo' %}
    {% assign default_title = 'No results match your filters' %}
    {% assign default_body = 'Try adjusting your filters or searching with a different term to discover more cohort projects.' %}
{% endcase %}

{% case size %}
  {% when 'sm' %}
    {% assign padding = 'px-6 py-8' %}
    {% assign icon_size = 'h-12 w-12' %}
    {% assign icon_inner = 'h-6 w-6' %}
  {% when 'lg' %}
    {% assign padding = 'px-8 py-16' %}
    {% assign icon_size = 'h-20 w-20' %}
    {% assign icon_inner = 'h-10 w-10' %}
  {% else %}
    {% assign padding = 'px-6 py-12' %}
    {% assign icon_size = 'h-16 w-16' %}
    {% assign icon_inner = 'h-8 w-8' %}
{% endcase %}

<div class="flex flex-col items-center justify-center rounded-2xl border {{ border_style }} {{ bg_style }} {{ padding }} text-center shadow-subtle backdrop-blur transition-all duration-300 hover:shadow-card">
  {% if include.icon %}
    {% assign icon = include.icon %}
  {% endif %}

  <div class="flex {{ icon_size }} items-center justify-center rounded-full {{ icon_bg }} transition-transform duration-300 hover:scale-110">
    {% include icon.html name=icon size='lg' %}
  </div>

  <h3 class="mt-6 text-xl font-semibold text-brand-navy">{{ include.title | default: default_title }}</h3>
  <p class="mt-2 max-w-md text-sm leading-relaxed text-brand-stone">{{ include.body | default: default_body }}</p>

  {% if include.cta_label and include.cta_href %}
    <div class="mt-6">
      {% include button.html href=include.cta_href label=include.cta_label variant='primary' size='md' %}
    </div>
  {% elsif include.cta_label %}
    {% comment %}Multiple CTAs support{% endcomment %}
    <div class="mt-6 flex flex-wrap items-center justify-center gap-3">
      {{ include.cta_label }}
    </div>
  {% endif %}

  {% if include.secondary_cta_label and include.secondary_cta_href %}
    <div class="mt-3">
      {% include button.html href=include.secondary_cta_href label=include.secondary_cta_label variant='ghost' size='sm' %}
    </div>
  {% endif %}
</div>
